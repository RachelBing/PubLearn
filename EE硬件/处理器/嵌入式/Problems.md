**晶振并联的1M电阻**？？



> 一般来说，时钟电路又称作皮尔斯振荡器电路，因为它电路简单，工作有效而稳定，优于其它型态的石英晶体振荡电路。皮尔斯振荡器所需零件很少: 一个反相器、一个电阻、一个石英晶体、两个小电容。
>
> ![](https://pic1.zhimg.com/80/v2-8676601848e0f19a9a4ee8d63386d7db_1440w.webp?source=1940ef5c)
>
> 对于单片机来说，芯片内部一般都包含了反相器，有的也在内部并联了反馈电阻，这个需要查阅具体的芯片手册，如果没有，可以考虑在芯片外部晶振两端并联反馈电阻。
>
> **1、增加稳定性，更容易起振**
>
> 单片机内部的反相器是一个施密特反相器，反相器是不能驱动晶振振荡的。因此，在反相器的两端并联一个电阻，电阻完成输出信号反向180度反馈到输入端进行负反馈，构成负反馈放大电路，实现信号反向，并且并联电阻降低谐振阻抗，使谐振器易启动。
>
> 同时增加了负反馈电阻，也增加了稳定性，也就是说即使温度变化，加电阻可减少振荡器的频率偏移，如果没有加反馈电阻，晶振电路也可能会起振，但存在不起振或者停振的隐患。
>
> **2、使反相器工作在线性区**
>
> 该电阻令反相器工作在线性区域而成为高增益的反相放大器，并确保振荡的发生。假设此反相器为理想反相器，输入阻抗无限大、输出阻抗为0，则并联的电阻将令输入电压与输出电压相等，因而使反相器内的晶体管不会工作在完全导通或完全截止的状态，而是工作在具有增益的中间过渡区域。完全导通或完全截止这两种状态工作在在饱和区，是没有增益的，而没有增益是无法振荡的。反相器线性区即下图中阴影区域内，保证反相器输入端的工作点电压在VDD/2，这样在振荡信号反馈在输入端时，能保证反相器工作在适当的工作区。
>
> ![](https://picx.zhimg.com/80/v2-f634bc945d681d68956e8f2e0dea14b5_1440w.webp?source=1940ef5c)
>
> 在高低温环境下振荡电路阻抗会发生变化，当阻抗增加到一定程度时，晶振可能发生起振困难或不起振现象，这时需要去检查并联的反馈电阻大小是否合理。一般来说在时钟电路中晶振频率和反馈电阻大小的关系如下：
>
> ![](https://picx.zhimg.com/80/v2-de927f6c78333b94b8498f3f5cd790ab_1440w.webp?source=1940ef5c)

调试模式中，SYMBOLS窗口显示异常
	本来应该有和文件对应的寄存器组
	目前可以直接在watch中调用，但在symbols里看不见